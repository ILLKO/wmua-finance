@(user: org.intracer.finance.User, operations: Seq[org.intracer.finance.Operation], projects: Set[String], categories: Set[String], grants: Set[String])(implicit flash: Flash, lang: Lang)

    @main(Messages("operations"), user) {


        <form class="form-inline" action="/operations" method="get">
            <fieldset>

                <div class="bs-docs-grid">
                    <div class="row show-grid">
                        <div class="span3">
                            <label class="control-label" for="project_select" style="width:60pt">@Messages("projects")</label>
                            <select id="projects_select" class="selectpicker" multiple name="projects">
                            @for((id, name) <- Global.mapping.project.iterator.toSeq.sortBy(pair => pair._1)) {
                                <option value="@id" @if(projects.contains(id)){ selected } >@name</option>
                            }
                            </select>
                        </div>

                        <div class="span3">
                            <label class="control-label" for="category_select" style="width:60pt">@Messages("categories")</label>
                            <select id="categories_select" class="selectpicker" multiple name="categories">
                            @for((id, name) <- Global.mapping.category.iterator.toSeq.sortBy(pair => pair._1)) {
                                <option value="@id" @if(categories.contains(id)){ selected } >@name</option>
                            }
                            </select>
                        </div>

                        <div class="span3">
                            <label class="control-label" for="grant_select" style="width:60pt">@Messages("grants")</label>
                            <select id="grants_select" class="selectpicker" multiple name="grants">
                            @for((id, name) <- Global.mapping.grant.iterator.toSeq.sortBy(pair => pair._1)) {
                                <option value="@id" @if(grants.contains(id)){ selected } >@name</option>
                            }
                            </select>
                        </div>
                        <div class="span3">
                            <button type="submit" class="btn" style="margin-top: 18pt">@Messages("filter")</button>
                        </div>
                    </div>

                </div>

            </fieldset>
        </form>


        <table class="table table-striped table-bordered">
            <tr>
                <th style="width:60pt">@Messages("date")</th>
                <th>@Messages("project")</th>
                <th>@Messages("category")</th>
                <th>@Messages("grant")</th>
                <th>@Messages("amount")</th>
                <th>@Messages("desc")</th>
            </tr>

            @for(operation <- operations) {
                <tr>
                    <td> @operation.date.toString().substring(0, 10) </td>
                    <td> @operation.to.project </td>
                    <td> @operation.to.category </td>
                    <td> @operation.to.grant </td>
                    <td> @operation.amount </td>
                    <td> @operation.to.desc </td>
                </tr>


            }
        </table>
    }